"use strict";(self.webpackChunkmy_do_good=self.webpackChunkmy_do_good||[]).push([[841],{4996:function(e,t,n){n.d(t,{r:function(){return l}});var i,s=n(2791),r=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function o(e,t){var n=e.title,o=e.titleId,l=c(e,r);return s.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},l),n?s.createElement("title",{id:o},n):null,i||(i=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.31497 1.5C2.76031 1.5 1.5 2.76031 1.5 4.31497C1.5 5.10403 1.83117 5.85686 2.41283 6.39004L4.58122 8.37774C5.16667 8.9144 5.5 9.67214 5.5 10.4663V13.3333C5.5 14.5743 6.90791 15.2913 7.91156 14.5614L9.20573 13.6201C9.80947 13.1811 10.1667 12.4796 10.1667 11.7331V10.546C10.1667 9.71257 10.5336 8.92141 11.1698 8.38307L13.5167 6.39724C14.1403 5.86956 14.5 5.09409 14.5 4.27718C14.5 2.74339 13.2566 1.5 11.7228 1.5H4.31497ZM2.5 4.31497C2.5 3.31259 3.31259 2.5 4.31497 2.5H11.7228C12.7043 2.5 13.5 3.29567 13.5 4.27718C13.5 4.79994 13.2698 5.29618 12.8708 5.63385L10.5239 7.61968C9.66311 8.34803 9.16667 9.41842 9.16667 10.546V11.7331C9.16667 12.1597 8.96256 12.5605 8.61756 12.8114L7.32339 13.7526C6.98071 14.0018 6.5 13.7571 6.5 13.3333V10.4663C6.5 9.39183 6.04902 8.36665 5.25694 7.64058L3.08855 5.65289C2.71353 5.30911 2.5 4.82372 2.5 4.31497Z",fill:"#111F33"})))}var l=s.forwardRef(o);n.p},819:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});var i=n(9439),s=n(2791),r=n(6726),a=n(3630),c=n(5058),o=n(8200),l=n(6533),_=n(5776),u=n(3957),d=n(4925),m=n(4165),v=n(5861),h=n(1413),f=n(3433),p=n(4805),y=n(7309),x=n(3388),C=n(9862),j=n(1583),Z=n(1046),I=n(6106),b=n(914),g=n(573),P=n(4996),N=n(4261),k={incentivesTableContainer:"styles_incentivesTableContainer__Jruw3",table:"styles_table__5xVzb",incentivesTableTitle:"styles_incentivesTableTitle__wxKsZ",paginationSelectedIncentives:"styles_paginationSelectedIncentives__m4Ahb",incentivesTableHeaderContainer:"styles_incentivesTableHeaderContainer__8N3lE",incentivesTitleContainer:"styles_incentivesTitleContainer__NL-8-",incentivesTitle:"styles_incentivesTitle__C4rs0",sortBtn:"styles_sortBtn__s9zKx",filterBtn:"styles_filterBtn__qh359",pointsBalanceContainer:"styles_pointsBalanceContainer__oaiT1",pointsBalanceLabel:"styles_pointsBalanceLabel__Gw7DH",suggestIncentiveText:"styles_suggestIncentiveText__bzEFV",incentivesItemsContainer:"styles_incentivesItemsContainer__DE6-D",incentivesItemContainer:"styles_incentivesItemContainer__IIA+b",favoriteBtn:"styles_favoriteBtn__e1jZa",addToCartBtn:"styles_addToCartBtn__rBNGn",cartItemActionBtn:"styles_cartItemActionBtn__dqvoq",incentivesItemInfoContainer:"styles_incentivesItemInfoContainer__Ak9m6",incentivesItemPointsText:"styles_incentivesItemPointsText__+tM8x",divider:"styles_divider__TA00m",loadMoreContainer:"styles_loadMoreContainer__zf60m",incentiveDetailsDrawerContainer:"styles_incentiveDetailsDrawerContainer__A35PE",drawerTitle:"styles_drawerTitle__xMndE",incentiveDetailsList:"styles_incentiveDetailsList__bgaOY",listItem:"styles_listItem__IavQP",charityRowContainer:"styles_charityRowContainer__jUPz3",formItem:"styles_formItem__1tekw",mobileSelectedIncentiveListItemContainer:"styles_mobileSelectedIncentiveListItemContainer__iemA+",mobileListTitle:"styles_mobileListTitle__-3oTE",mobileListFirstColumn:"styles_mobileListFirstColumn__PjhuI",mobileListSecondColumn:"styles_mobileListSecondColumn__wEO68",incentivesContainer:"styles_incentivesContainer__vGuly",redeemIncentivesListContainer:"styles_redeemIncentivesListContainer__7DJT3",redeemListItemContainer:"styles_redeemListItemContainer__sTJwK",addBtn:"styles_addBtn__9ERCd",paginationIncentives:"styles_paginationIncentives__4FYrw",overviewContainer:"styles_overviewContainer__Dnj56",deleteIcon:"styles_deleteIcon__xkXPk",totalList:"styles_totalList__nC0Cu",totalListItem:"styles_totalListItem__p+FTy",submitBtn:"styles_submitBtn__UdVYb",yourPointsContainer:"styles_yourPointsContainer__I+rMl",yourPointsRow:"styles_yourPointsRow__5W5jG",totalPoints:"styles_totalPoints__WQXCv",submitContainer:"styles_submitContainer__6EBgb",customizationBtnContainer:"styles_customizationBtnContainer__5ANp-",submitCustomizationBtn:"styles_submitCustomizationBtn__xIz94",cartIncentivesContainer:"styles_cartIncentivesContainer__M4cTG",cartListContainer:"styles_cartListContainer__FAQ5m",cartListItemContainer:"styles_cartListItemContainer__Wg2Ko",cartListItemInfoContainer:"styles_cartListItemInfoContainer__fa0eA",cartListItemPointsText:"styles_cartListItemPointsText__dd5Ur",cartListItemActionBtn:"styles_cartListItemActionBtn__7epKG",cartPointsContainer:"styles_cartPointsContainer__74AQD"},S=n(5794),M=n(740),w=n(430),T=n(7828),D=n(732),L=n(184),A=function(e){var t=e.isOpen,n=e.onClose,r=e.selectedIncentivesDetails,a=(0,s.useState)(!1),c=(0,i.Z)(a,2),o=(c[0],c[1],(0,p.useMediaQuery)({maxWidth:610})),l=(0,p.useMediaQuery)({maxWidth:1024});return(0,L.jsx)(T.Z,{footerStyle:{border:"none"},closeIcon:!1,width:o?"100%":l?"60%":"30%",placement:"right",onClose:n,open:t,children:r&&(0,L.jsxs)("section",{className:k.incentiveDetailsDrawerContainer,children:[(0,L.jsxs)("div",{className:k.drawerTitle,children:[(0,L.jsx)("h3",{children:"Incentive Details "}),(0,L.jsx)(D.Z,{onClick:n})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h4",{children:r.incentive}),(0,L.jsxs)("ul",{className:k.incentiveDetailsList,children:[(0,L.jsxs)("li",{className:k.listItem,children:[(0,L.jsx)("div",{children:"Meetings Required: "}),(0,L.jsx)("div",{children:r.Meetings_Needed__c})]}),(0,L.jsxs)("li",{className:k.listItem,children:[(0,L.jsx)("div",{children:"Meetings Completed: "}),(0,L.jsx)("div",{children:r.Meetings_Completed__c})]}),(0,L.jsxs)("li",{className:k.listItem,children:[(0,L.jsx)("div",{children:"Customization Options: "}),(0,L.jsx)("div",{children:r.Customization__c?r.Customization__c:"-"})]}),(0,L.jsxs)("li",{className:k.listItem,children:[(0,L.jsx)("div",{children:"Status "}),r.status]})]})]})]})})},F=n(7689),B=n(7301),E=n(9389),z=function(e){var t=e.isOpen,n=e.onClose,r=e.onSubmit,a=(0,s.useState)(""),c=(0,i.Z)(a,2),o=c[0],l=c[1],_=(0,p.useMediaQuery)({maxWidth:610}),u=(0,p.useMediaQuery)({maxWidth:1024});return(0,L.jsx)(T.Z,{footerStyle:{border:"none"},closeIcon:!1,width:_?"100%":u?"60%":"30%",onClose:function(){return n()},open:t,children:(0,L.jsxs)("section",{className:k.incentiveDetailsDrawerContainer,children:[(0,L.jsxs)("div",{className:k.drawerTitle,children:[(0,L.jsx)("h3",{children:"Item Customizations"}),(0,L.jsx)(D.Z,{onClick:function(){return n()}})]}),(0,L.jsx)(E.Z,{placeholder:"Item Customization",value:o,onChange:function(e){l(e.target.value)}}),(0,L.jsx)("div",{className:k.customizationBtnContainer,children:(0,L.jsx)(y.ZP,{type:"primary",htmlType:"submit",disabled:!o,className:k.submitCustomizationBtn,onClick:function(){r(o),n(),l("")},children:"Submit"})})]})})},O=n(8853),W=n(7846),q=n(1752),R=function(e){var t=e.isOpen,n=e.onClose,r=e.contactInfo,a=(0,F.UO)().clientId,c=W.Z.useForm(),o=(0,i.Z)(c,1)[0],l=(0,s.useState)({charityName:r.Non_Profit_Top_Choice__c?r.Charity_Name__c:"",charityWebsite:""}),_=(0,i.Z)(l,2),u=_[0],d=_[1],f=(0,s.useState)(!!r.Non_Profit_Top_Choice__c),x=(0,i.Z)(f,2),C=x[0],j=x[1],Z=(0,p.useMediaQuery)({maxWidth:610}),I=(0,p.useMediaQuery)({maxWidth:1024});(0,s.useEffect)((function(){j(!!r.Non_Profit_Top_Choice__c),o.setFieldsValue({charityName:r.Non_Profit_Top_Choice__c?r.Charity_Name__c:"",charityWebsite:""})}),[o,r]);var b=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(){var t,i;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/sobjects/Contact/".concat(a),i={Charity_Name_MP__c:u.charityName,Charity_Website_MP__c:u.charityWebsite},e.prev=3,e.next=6,(0,B.E9)(t,i);case 6:n(),j(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Failed to update password:",e.t0);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(0),alert("Authorization error. Please try again later.");case 18:case"end":return e.stop()}}),e,null,[[0,15],[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,L.jsx)(T.Z,{footerStyle:{border:"none"},closeIcon:!1,width:Z?"100%":I?"60%":"30%",placement:"right",onClose:n,open:t,children:r&&(0,L.jsxs)("section",{className:k.incentiveDetailsDrawerContainer,children:[(0,L.jsxs)("div",{className:k.drawerTitle,children:[(0,L.jsx)("h3",{children:"Your Charity"}),(0,L.jsx)(D.Z,{onClick:n})]}),(0,L.jsx)("div",{children:(0,L.jsx)("div",{className:k.formContainer,children:(0,L.jsxs)(W.Z,{form:o,className:k.form,name:"basic",layout:"vertical",initialValues:{remember:!0},autoComplete:"off",children:[(0,L.jsxs)("div",{className:k.charityRowContainer,children:[C&&(0,L.jsxs)("p",{children:["Charity Name: ",r.Charity_Name__c]}),!C&&(0,L.jsx)(W.Z.Item,{className:k.formItem,label:"Charity Name",name:"charityName",required:!0,rules:[{message:"Please input your charity name!"}],children:(0,L.jsx)(E.Z,{disabled:C,placeholder:"Enter your charity name",onChange:function(e){return d((0,h.Z)((0,h.Z)({},u),{},{charityName:e.target.value}))}})}),!!r.Non_Profit_Top_Choice__c&&(0,L.jsx)(q.Z,{onClick:function(){return j(!1)}})]}),!r.Non_Profit_Top_Choice__c&&(0,L.jsx)(W.Z.Item,{className:k.formItem,label:"Charity Website",name:"charityWebsite",required:!0,rules:[{message:"Please input your charity website!"}],children:(0,L.jsx)(E.Z,{placeholder:"Enter your charity website",onChange:function(e){return d((0,h.Z)((0,h.Z)({},u),{},{charityWebsite:e.target.value}))}})}),!C&&(0,L.jsx)(W.Z.Item,{children:(0,L.jsx)(y.ZP,{type:"primary",htmlType:"submit",disabled:!u.charityName||!r.Non_Profit_Top_Choice__c&&!u.charityWebsite,className:k.btn,onClick:b,children:"Submit"})}),C&&(0,L.jsxs)(W.Z.Item,{children:[(0,L.jsx)(y.ZP,{style:{marginRight:16},className:k.btn,type:"primary",htmlType:"submit",onClick:function(){n()},children:"Confirm"}),(0,L.jsx)(y.ZP,{className:k.btn,type:"primary",htmlType:"submit",onClick:function(){j(!1)},children:"Update"})]})]})})})]})})},V=n(3098),H=["key"],Q=function(){var e=(0,s.useState)(""),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,_.Zn)(),c=(0,s.useState)(!1),o=(0,i.Z)(c,2),l=o[0],u=o[1],T=(0,s.useState)(!1),D=(0,i.Z)(T,2),E=D[0],W=D[1],q=(0,s.useState)(!1),Q=(0,i.Z)(q,2),Y=Q[0],K=Q[1],U=(0,s.useState)(null),G=(0,i.Z)(U,2),J=G[0],X=G[1],$=(0,_.aT)().incentiveFromSalesForce,ee=(0,F.UO)().clientId,te=(0,s.useState)(1),ne=(0,i.Z)(te,2),ie=ne[0],se=ne[1],re=((0,p.useMediaQuery)({maxWidth:610}),(0,s.useState)([])),ae=(0,i.Z)(re,2),ce=ae[0],oe=ae[1],le=(0,s.useState)(["All"]),_e=(0,i.Z)(le,2),ue=_e[0],de=_e[1],me=(0,s.useState)("az"),ve=(0,i.Z)(me,2),he=ve[0],fe=ve[1],pe=(0,s.useState)([]),ye=(0,i.Z)(pe,2),xe=ye[0],Ce=ye[1],je=(0,s.useState)([]),Ze=(0,i.Z)(je,2),Ie=Ze[0],be=Ze[1],ge=(0,s.useState)(!1),Pe=(0,i.Z)(ge,2),Ne=(Pe[0],Pe[1]),ke=(0,s.useState)({columnKey:"incentive",order:"ascend"}),Se=(0,i.Z)(ke,2),Me=Se[0],we=(Se[1],a.cartItems),Te=(0,f.Z)($);function De(){return Le.apply(this,arguments)}function Le(){return(Le=(0,v.Z)((0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,B.P_)("query/?q=SELECT+Incentive_Copy__c,Favorite__c,Incentive__c,Id+FROM+Member_Incentive__c+WHERE+Member_Contact__c='".concat(ee,"'"));case 3:t=e.sent,Ce(t.records),(0,O.Y4)("".concat(ee)).then((function(e){be(e)})),console.log("--- contactData (Member Info)",Ie),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to fetch data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}ue.length&&!ue.includes("All")&&(Te=Te.filter((function(e){return ue.includes(e.Product_Type__c)}))),(0,s.useEffect)((function(){var e=(0,f.Z)($);e.sort((function(e,t){return e.incentive.localeCompare(t.incentive)})),ue.length&&!ue.includes("All")&&(e=e.filter((function(e){return ue.includes(e.Product_Type__c)}))),e=e.map((function(e){var t;return(0,h.Z)((0,h.Z)({},e),{},{favorite:null===xe||void 0===xe||null===(t=xe.find((function(t){return t.Incentive__c===e.key})))||void 0===t?void 0:t.Favorite__c})})),Me.columnKey&&e.sort((function(e,t){return"az"===he?e.incentive.localeCompare(t.incentive):"za"===he?t.incentive.localeCompare(e.incentive):"lowToHigh"===he?e.Points__c?t.Points__c?e.Points__c-t.Points__c:1:t.Points__c?-1:0:"highToLow"===he?e.Points__c?t.Points__c?t.Points__c-e.Points__c:-1:t.Points__c?1:0:new Date(t.CreatedDate||0).getTime()-new Date(e.CreatedDate||0).getTime()}));var t=8*(ie-1)+8,n=e.slice(0,t);n=n.sort(Ae),oe(n)}),[he,ie,$,ue,xe,Me.columnKey]);var Ae=function(e,t){return"Active"===e.favorite&&"Inactive"===t.favorite?-1:"Inactive"===e.favorite&&"Active"===t.favorite?1:0};(0,s.useEffect)((function(){De()}),[]);var Fe,Be=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(t){var i,s,r,c;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={Customization__c:t.toString()},-1!==(s=we.findIndex((function(e){return e.cartItemId===n})))?(r=(0,h.Z)((0,h.Z)({},we[s]),i),(c=(0,f.Z)(we))[s]=r,console.log("--- updatedCartItems",c),a.setCartItems(c)):console.log("Item not found in cartItems."),W(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(t){var n,i,s,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne(!0),!xe.find((function(e){return e.Incentive__c===t.key}))){e.next=10;break}return i=null===(n=xe.find((function(e){return e.Incentive__c===t.key})))||void 0===n?void 0:n.Id,s={Favorite__c:"Active"},e.next=6,(0,B.E9)("/sobjects/Member_Incentive__c/".concat(i),s);case 6:De(),Ne(!1),e.next=15;break;case 10:return r={Member_Contact__c:ee,Favorite__c:"Active",Incentive__c:t.key},e.next=13,(0,B.t6)("/sobjects/Member_Incentive__c/",r);case 13:De(),Ne(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(t){var n,i,s;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=null===(n=xe.find((function(e){return e.Incentive__c===t.key})))||void 0===n?void 0:n.Id)){e.next=9;break}return Ne(!0),s={Favorite__c:"Inactive"},e.next=7,(0,B.E9)("/sobjects/Member_Incentive__c/".concat(i),s);case 7:De(),Ne(!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Ne(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),We=function(e){console.log("---- cartitems: ",we),console.log("--- value",e),e.Customization_Options__c&&W(!0),"Charitable"===e.Product_Type__c&&K(!0);var t=(0,N.Z)();r(t);var n=e.key,i=(0,d.Z)(e,H),s=(0,h.Z)({incentiveId:n,key:t,cartItemId:t},i);a.setCartItems([].concat((0,f.Z)(we),[s]))},qe=function(e){return we.filter((function(t){return t.incentiveId==e.key})).length},Re=Array.from(new Set($.map((function(e){return e.Product_Type__c})))).sort((function(e,t){return null===e||void 0===e?void 0:e.localeCompare(t)})),Ve=["All"].concat((0,f.Z)(Re)),He=(0,L.jsx)(x.Z,{style:{maxHeight:"250px",overflowY:"auto"},children:Ve.map((function(e,t){return(0,L.jsx)(x.Z.Item,{children:(0,L.jsx)(C.Z,{checked:ue.includes(e),onClick:function(t){return Qe(t,e)},children:e})},t)}))}),Qe=function(e,t){e.stopPropagation();var n=(0,f.Z)(ue);"All"===t?n=["All"]:(n.includes("All")&&(n=[]),n.includes(t)?n=n.filter((function(e){return e!==t})):n.push(t)),de(n)},Ye={items:[{label:"Sort A-Z",key:"az"},{label:"Sort Z-A",key:"za"},{label:"Points Low to High",key:"lowToHigh"},{label:"Points High to Low",key:"highToLow"},{label:"Newest First",key:"newestFirst"}],onClick:function(e){console.log("click",e),fe(e.key)}};return console.log("--- data: ",ce),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("section",{className:k.incentivesTableContainer,children:[(0,L.jsxs)("div",{className:k.incentivesTableHeaderContainer,children:[(0,L.jsxs)("div",{className:k.incentivesTitleContainer,children:[(0,L.jsx)(j.Z,{menu:Ye,trigger:["click"],children:(0,L.jsx)(y.ZP,{className:k.sortBtn,children:(0,L.jsxs)(Z.Z,{children:["Sort by",(0,L.jsx)(w.Z,{})]})})}),(0,L.jsx)(j.Z,{overlay:He,trigger:["click"],children:(0,L.jsxs)("button",{className:k.filterBtn,children:[(0,L.jsx)(P.r,{})," Filter"]})})]}),(0,L.jsxs)("div",{className:k.pointsBalanceContainer,children:[(0,L.jsxs)("h3",{children:[(0,L.jsx)("span",{className:k.pointsBalanceLabel,children:"Points Balance:"})," ",(Fe=null===Ie||void 0===Ie?void 0:Ie.Points_Balance__c,null===Fe||void 0===Fe?void 0:Fe.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]}),(0,L.jsx)(V.Z,{target:"_blank",href:"https://form.jotform.com/240324768989170",children:(0,L.jsx)("p",{className:k.suggestIncentiveText,children:"Suggest an Incentive"})})]})]}),(0,L.jsx)(I.Z,{gutter:[32,32],className:k.incentivesItemsContainer,children:ce.map((function(e){return(0,L.jsxs)(b.Z,{md:6,sm:12,xs:12,className:k.incentivesItemContainer,children:[(0,L.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,L.jsx)(g.Z,{width:"100%",src:e.Image__c||"https://via.placeholder.com/200",alt:"Your Image"}),"Active"===(null===e||void 0===e?void 0:e.favorite)?(0,L.jsx)(S.Z,{className:k.favoriteBtn,onClick:function(){return Oe(e)}}):(0,L.jsx)(M.Z,{className:k.favoriteBtn,onClick:function(){return ze(e)}})]}),!qe(e)&&(0,L.jsx)(y.ZP,{className:k.addToCartBtn,onClick:function(t){t.stopPropagation(),X(e),We(e)},children:"+ Add"}),qe(e)>0&&(0,L.jsxs)(y.ZP,{className:k.addToCartBtn,onClick:function(t){t.stopPropagation(),X(e)},children:[(0,L.jsx)("span",{onClick:function(){return function(e){var t=we.filter((function(t){return t.incentiveId==e.key}));t.pop();var n=we.filter((function(t){return t.incentiveId!==e.key}));return a.setCartItems([].concat((0,f.Z)(n),(0,f.Z)(t))),t.length}(e)},className:k.cartItemActionBtn,children:"-"}),qe(e),(0,L.jsx)("span",{className:k.cartItemActionBtn,onClick:function(){return We(e)},children:"+"})]}),(0,L.jsxs)("div",{className:k.incentivesItemInfoContainer,children:[(0,L.jsx)(V.Z,{target:"_blank",href:e.Website__c,className:k.incentivesItemWebsiteText,children:e.incentive}),(0,L.jsxs)("p",{className:k.incentivesItemPointsText,children:[e.Points__c," points"]})]}),(0,L.jsx)("hr",{className:k.divider})]},e.key)}))}),(0,L.jsx)("div",{className:k.loadMoreContainer,onClick:function(){se(ie+1)},children:(0,L.jsx)(y.ZP,{children:"Load More"})}),(0,L.jsx)(A,{selectedIncentivesDetails:J,isOpen:l,onClose:function(){X(null),u(!1)}}),(0,L.jsx)(z,{isOpen:E,onClose:Be,onSubmit:Ee}),(0,L.jsx)(R,{isOpen:Y,onClose:function(){K(!1)},contactInfo:Ie})]})})},Y=n(8715),K=function(){var e=(0,s.useState)(1),t=(0,i.Z)(e,2),n=t[0],r=(t[1],(0,s.useState)(["All"])),a=(0,i.Z)(r,2),c=a[0],o=(a[1],(0,s.useState)([])),l=(0,i.Z)(o,2),_=l[0],u=l[1],d=(0,F.UO)().clientId,h=(0,s.useState)([]),p=(0,i.Z)(h,2),y=p[0],x=p[1],C=(0,s.useState)(),j=(0,i.Z)(C,2),Z=(j[0],j[1],(0,s.useState)("")),g=(0,i.Z)(Z,2),P=(g[0],g[1],(0,s.useState)(null)),N=(0,i.Z)(P,2),S=(N[0],N[1],(0,s.useState)(!1)),M=(0,i.Z)(S,2);M[0],M[1],(0,f.Z)(y);function w(){return T.apply(this,arguments)}function T(){return(T=(0,v.Z)((0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,B.P_)("query/?q=SELECT+Incentive_Copy__c,Points__c,CreatedDate,Shipment_Status__c,Favorite__c,Incentive__c+FROM+Member_Incentive__c+WHERE+Member_Contact__c='".concat(d,"'+AND+Requirements_Fulfilled__c=true"));case 3:t=e.sent,x(t.records),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,s.useEffect)((function(){var e=(0,f.Z)(y);e.sort((function(e,t){return e.Incentive_Copy__c.localeCompare(t.Incentive_Copy__c)}));var t=10*(n-1),i=t+10,s=e.slice(t,i);u(s)}),[n,y,c]),(0,s.useEffect)((function(){w()}),[]);return(0,L.jsx)("section",{className:k.incentivesContainer,children:_.length>0&&(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("section",{className:k.redeemIncentivesListContainer,children:(0,L.jsx)(Y.Z,{itemLayout:"horizontal",dataSource:_,pagination:!1,renderItem:function(e){return(0,L.jsx)(Y.Z.Item,{children:(0,L.jsx)("div",{className:k.redeemListItemContainer,children:(0,L.jsxs)(I.Z,{children:[(0,L.jsx)(b.Z,{span:24,children:(0,L.jsx)("h3",{children:e.Incentive_Copy__c})}),(0,L.jsx)(b.Z,{span:15,children:(0,L.jsx)("p",{children:"Status"})}),(0,L.jsx)(b.Z,{span:9,children:(0,L.jsx)("p",{children:e.Shipment_Status__c})}),(0,L.jsx)(b.Z,{span:15,children:(0,L.jsx)("p",{children:"Points"})}),(0,L.jsx)(b.Z,{span:9,children:(0,L.jsx)("p",{children:e.Points__c})}),(0,L.jsx)(b.Z,{span:15,children:(0,L.jsx)("p",{children:"Sent Date"})}),(0,L.jsx)(b.Z,{span:9,children:(0,L.jsx)("p",{children:(t=e.CreatedDate,new Date(t).toISOString().split("T")[0])})})]})})});var t}})})})})},U=n(7762),G=function(e){var t=e.isOpen,n=e.onClose,r=e.contactInfo,a=(e.totalPoints,(0,F.UO)().clientId),c=W.Z.useForm(),o=(0,i.Z)(c,1)[0],l=(0,s.useState)({street:null!==r&&void 0!==r&&r.Mailing_Address_Verified_Date__c?null===r||void 0===r?void 0:r.MailingStreet:"",city:null!==r&&void 0!==r&&r.Mailing_Address_Verified_Date__c?null===r||void 0===r?void 0:r.MailingCity:"",state:null!==r&&void 0!==r&&r.Mailing_Address_Verified_Date__c?null===r||void 0===r?void 0:r.MailingState:"",postalCode:null!==r&&void 0!==r&&r.Mailing_Address_Verified_Date__c?null===r||void 0===r?void 0:r.MailingPostalCode:"",country:null!==r&&void 0!==r&&r.Mailing_Address_Verified_Date__c?null===r||void 0===r?void 0:r.MailingCountry:""}),u=(0,i.Z)(l,2),d=u[0],f=u[1],x=(0,s.useState)(!1),C=(0,i.Z)(x,2),j=C[0],Z=C[1],I=(0,_.Zn)(),b=I.cartItems||[],g=(0,p.useMediaQuery)({maxWidth:610}),P=(0,p.useMediaQuery)({maxWidth:1024});(0,s.useEffect)((function(){o.setFieldsValue({street:r.Mailing_Address_Verified_Date__c?r.MailingStreet:"",city:r.Mailing_Address_Verified_Date__c?r.MailingCity:"",state:r.Mailing_Address_Verified_Date__c?r.MailingState:"",postalCode:r.Mailing_Address_Verified_Date__c?r.MailingPostalCode:"",country:r.Mailing_Address_Verified_Date__c?r.MailingCountry:""})}),[o,r]);var N=function(){var e=(0,v.Z)((0,m.Z)().mark((function e(t){var i,s,r,c,o,l;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),i=b.map((function(e,t){return{Incentive__c:e.incentiveId,Points__c:e.Points__c,Member_Contact__c:a,Customization__c:e.Customization__c||null}})),console.log("incentiveDataList",i),s="/sobjects/Contact/".concat(a),r={Mailing_Address_Verified_Date__c:new Date,MailingStreet:t.street,MailingCity:t.city,MailingState:t.state,MailingPostalCode:t.postalCode,MailingCountry:t.country},console.log("Data Of CheckOut",r),console.log("incentiveDataList",i),e.prev=8,e.next=11,(0,B.E9)(s,r);case 11:c=(0,U.Z)(i),e.prev=12,c.s();case 14:if((o=c.n()).done){e.next=20;break}return l=o.value,e.next=18,(0,B.t6)("/sobjects/Member_Incentive__c/",l);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),c.e(e.t0);case 25:return e.prev=25,c.f(),e.finish(25);case 28:I.setCartItems([]),n(),Z(!1),e.next=37;break;case 33:e.prev=33,e.t1=e.catch(8),console.error("Failed to update password:",e.t1),Z(!1);case 37:e.next=44;break;case 39:e.prev=39,e.t2=e.catch(0),console.error("Error fetching data from Salesforce:",e.t2),alert("Authorization error. Please try again later."),Z(!1);case 44:case"end":return e.stop()}}),e,null,[[0,39],[8,33],[12,22,25,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,L.jsx)(T.Z,{footerStyle:{border:"none"},closeIcon:!1,width:g?"100%":P?"60%":"30%",placement:"right",onClose:n,open:t,children:r&&(0,L.jsxs)("section",{className:k.incentiveDetailsDrawerContainer,children:[(0,L.jsxs)("div",{className:k.drawerTitle,children:[(0,L.jsx)("h3",{children:"Checkout"}),(0,L.jsx)(D.Z,{onClick:n})]}),(0,L.jsx)("div",{children:(0,L.jsx)("div",{className:k.formContainer,children:(0,L.jsxs)(W.Z,{form:o,className:k.form,name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:N,autoComplete:"off",children:[(0,L.jsx)(W.Z.Item,{className:k.formItem,label:"Street Address",name:"street",required:!0,rules:[{required:!0,message:"Please input your charity name!"}],children:(0,L.jsx)(E.Z,{placeholder:"Enter your street",onChange:function(e){return f((0,h.Z)((0,h.Z)({},d),{},{street:e.target.value}))}})}),(0,L.jsx)(W.Z.Item,{className:k.formItem,label:"City",name:"city",required:!0,rules:[{required:!0,message:"Please input your city"}],children:(0,L.jsx)(E.Z,{placeholder:"Enter your city",onChange:function(e){return f((0,h.Z)((0,h.Z)({},d),{},{city:e.target.value}))}})}),(0,L.jsx)(W.Z.Item,{className:k.formItem,label:"State",name:"state",required:!0,rules:[{required:!0,message:"Please input your state"}],children:(0,L.jsx)(E.Z,{placeholder:"Enter your state",onChange:function(e){return f((0,h.Z)((0,h.Z)({},d),{},{state:e.target.value}))}})}),(0,L.jsx)(W.Z.Item,{className:k.formItem,label:"Zip code",name:"postalCode",required:!0,rules:[{required:!0,message:"Please input your zip code"}],children:(0,L.jsx)(E.Z,{placeholder:"Enter your Zip code",onChange:function(e){return f((0,h.Z)((0,h.Z)({},d),{},{postalCode:e.target.value}))}})}),(0,L.jsx)(W.Z.Item,{className:k.formItem,label:"Country",name:"country",required:!0,rules:[{required:!0,message:"Please input your country"}],children:(0,L.jsx)(E.Z,{placeholder:"Enter your country",onChange:function(e){return f((0,h.Z)((0,h.Z)({},d),{},{country:e.target.value}))}})}),(0,L.jsx)(W.Z.Item,{children:(0,L.jsx)(y.ZP,{loading:j,type:"primary",htmlType:"submit",disabled:!d.street||!d.city||!d.state||!d.postalCode||!d.country,className:k.btn,children:"".concat(null!==r&&void 0!==r&&r.Mailing_Address_Verified_Date__c?"Confirm":"Submit")})})]})})})]})})},J=function(){var e=(0,F.UO)().clientId,t=(0,s.useState)(!1),n=(0,i.Z)(t,2),r=n[0],a=n[1],c=(0,s.useState)(),o=(0,i.Z)(c,2),l=o[0],u=o[1],d=(0,s.useState)([]),h=(0,i.Z)(d,2),f=(h[0],h[1]),p=(0,s.useState)(!1),x=(0,i.Z)(p,2),C=x[0],j=x[1],Z=((0,F.s0)(),(0,_.Zn)()),P=Z.cartItems||[],N=function(){return P.reduce((function(e,t){return e+t.Points__c}),0)},S=function(){var t=(0,v.Z)((0,m.Z)().mark((function t(){var n,i,s,r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a(!0),n=P.map((function(t,n){return{Incentive__c:t.incentiveId,Points__c:t.Points__c,Member_Contact__c:e,Customization__c:t.Customization__c||null}})),console.log("incentiveDataList",n),t.prev=4,i=(0,U.Z)(n),t.prev=6,i.s();case 8:if((s=i.n()).done){t.next=14;break}return r=s.value,t.next=12,(0,B.t6)("/sobjects/Member_Incentive__c/",r);case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),i.e(t.t0);case 19:return t.prev=19,i.f(),t.finish(19);case 22:Z.setCartItems([]),a(!1),t.next=30;break;case 26:t.prev=26,t.t1=t.catch(4),console.error("Failed to update password:",t.t1),a(!1);case 30:t.next=37;break;case 32:t.prev=32,t.t2=t.catch(0),console.error("Error fetching data from Salesforce:",t.t2),alert("Authorization error. Please try again later."),a(!1);case 37:case"end":return t.stop()}}),t,null,[[0,32],[4,26],[6,16,19,22]])})));return function(){return t.apply(this,arguments)}}();return(0,s.useEffect)((function(){function t(){return(t=(0,v.Z)((0,m.Z)().mark((function t(){var n,i;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,B.P_)("query/?q=SELECT+Id,Client_Name__c,Stage_MP__c+FROM+Meeting__c+WHERE+(Stage_MP__c!='N/A'+AND+Stage_MP__c!='Canceled by Client'+AND+Stage_MP__c!='Canceled by Member'+AND+Stage_MP__c!='Meeting Completed')+AND+MemberC__c='".concat(e,"'"));case 3:n=t.sent,i=n.records.map((function(e){return{key:e.Id,partnerName:e.Client_Name__c,stage:e.Stage_MP__c||"",incentive:e.Incentive_Copy1__c||"",meetingDate:e.Meeting_Date_M__c||"",scheduleMeeting:e.Stage_M__c,calendarLink:e.CMT_Calendar_Link__c,showFeedbackLink:null===e.Member_Feedback_Date__c&&e.Meeting_Date_M__c&&new Date(e.Meeting_Date_M__c)<=new Date,memberFeedbackDate:e.Member_Feedback_Date__c,memberFeedbackLink:e.Member_Feedback_Link__c,meetingCompletedDate:e.Meeting_Completed_Date__c}})),f(i),(0,O.Y4)("".concat(e)).then((function(e){u(e)})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch data:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),console.log("cartItems",P),(0,L.jsxs)("section",{className:k.cartIncentivesContainer,children:[(0,L.jsx)("div",{className:k.cartListContainer,children:(0,L.jsx)(Y.Z,{itemLayout:"horizontal",dataSource:P,pagination:!1,renderItem:function(e){return(0,L.jsx)(Y.Z.Item,{className:k.cartListItemContainer,children:(0,L.jsxs)(I.Z,{children:[(0,L.jsx)(b.Z,{sm:8,children:(0,L.jsx)(g.Z,{width:"100%",src:e.Image__c||"https://via.placeholder.com/200",alt:"Your Image"})}),(0,L.jsxs)(b.Z,{sm:16,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,L.jsxs)("div",{className:k.cartListItemInfoContainer,children:[(0,L.jsx)("p",{children:e.incentive}),(0,L.jsxs)("p",{className:k.cartListItemPointsText,children:[(t=e.Points__c||0,null===t||void 0===t?void 0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," points"]})]}),(0,L.jsx)("p",{children:e.Customization__c?"Customization: ".concat(e.Customization__c):""}),(0,L.jsx)(y.ZP,{className:k.cartListItemActionBtn,onClick:function(){return function(e){var t=P.filter((function(t){return t.cartItemId!==e}));Z.setCartItems(t)}(e.cartItemId)},children:(0,L.jsx)("span",{className:k.cartItemActionBtn,children:"Remove"})})]})]})},e.cartItemId);var t}})}),(0,L.jsxs)("div",{className:k.cartPointsContainer,children:[(0,L.jsxs)("div",{className:k.totalPoints,children:[(0,L.jsx)("strong",{children:"Total Points Needed: "}),(0,L.jsx)("span",{children:N()})]}),(0,L.jsxs)("div",{className:k.totalPoints,children:[(0,L.jsx)("strong",{children:"Your Points Balance: "}),(0,L.jsx)("span",{children:null===l||void 0===l?void 0:l.Points_Balance__c})]}),(0,L.jsxs)("div",{className:k.totalPoints,children:[(0,L.jsx)("strong",{children:"Points Remaining: "}),(0,L.jsx)("span",{children:(null===l||void 0===l?void 0:l.Points_Balance__c)-N()})]}),(0,L.jsxs)("div",{className:k.submitContainer,children:[(0,L.jsx)(y.ZP,{style:{marginTop:"10px",margin:"10px auto",width:"fit-content",display:"block"},onClick:function(){(null===l||void 0===l?void 0:l.Points_Balance__c)-N()>=0&&P.length>0&&(P.every((function(e){return!1===e.Needs_to_be_shipped__c}))?(j(!1),S()):j(!0))},loading:r,disabled:(null===l||void 0===l?void 0:l.Points_Balance__c)-N()<0,children:"Redeem Points"}),(null===l||void 0===l?void 0:l.Points_Balance__c)-N()<0&&(0,L.jsx)("p",{style:{color:"red",fontWeight:"bold",textAlign:"center"},children:"You don't have enough points to checkout!"})]})]}),l&&(0,L.jsx)(G,{totalPoints:N(),isOpen:C,onClose:function(){j(!1)},contactInfo:l})]})},X="styles_tabsContainer__ZlRrw",$="styles_mainContainer__wdgd9",ee="styles_cartTab__GLOAl",te="styles_scrollableContent__eO4TT",ne="styles_tabContent__60poi",ie=function(){var e=(0,_.Zn)().cartItems||[],t=[{key:"1",tab:"Available Incentives",content:(0,L.jsx)(Q,{})},{key:"2",tab:"Redeemed Incentives",content:(0,L.jsx)(K,{})},{key:"3",tab:(0,L.jsx)("span",{className:ee,children:e.length>0?(0,L.jsx)(r.Z,{count:(0,L.jsx)(o.Z,{style:{color:"#FAAA4D"}}),offset:[0,15],children:(0,L.jsx)(l.Z,{style:{fontSize:"20px"}})}):(0,L.jsx)(l.Z,{style:{fontSize:"20px"}})}),content:(0,L.jsx)(J,{})}],n=(0,s.useState)("1"),d=(0,i.Z)(n,2),m=d[0],v=d[1];return(0,L.jsxs)("main",{style:{backgroundColor:"#FFFFFF"},children:[(0,L.jsx)(u.Z,{}),(0,L.jsx)(a.Z,{offsetTop:0,children:(0,L.jsx)("section",{className:X,children:(0,L.jsx)(c.Z,{defaultActiveKey:"1",onChange:function(e){v(e)},tabBarStyle:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF",marginLeft:"3%",textTransform:"uppercase"},children:t.map((function(e){return(0,L.jsx)(c.Z.TabPane,{tab:e.tab},e.key)}))})})}),(0,L.jsx)("section",{className:$,children:(0,L.jsx)("div",{className:te,children:t.map((function(e){return(0,L.jsx)("div",{className:ne,style:{display:e.key===m?"block":"none"},children:e.content},e.key)}))})})]})}}}]);
//# sourceMappingURL=841.ef4fb734.chunk.js.map