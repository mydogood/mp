"use strict";(self.webpackChunkmy_do_good=self.webpackChunkmy_do_good||[]).push([[636],{933:function(s,e,a){a.r(e),a.d(e,{default:function(){return W}});var r=a(4805),n=a(3957),t=a(9439),l=a(2791),o="styles_profileSection__+yNrA",c="styles_inputContainer__3P64v",d="styles_inputLabel__2KZz1",i="styles_formContainer__gdB9E",u="styles_formContainerTitle__eb8qc",m="styles_formContainerSubTitle__nbd0S",h="styles_input__7CTV3",p="styles_passwordDescription__ke9Oy",_="styles_setPasswordBtn__e2pyI",w="styles_setPasswordModal__Gs5Jq",x="styles_setPasswordModalTitle__wbCb3",j="styles_cancelBtn__A2ZjL",v="styles_saveBtn__UYd+9",y="styles_setPasswordModalForm__Xe1vU",f="styles_passwordInputContainer__fWZIw",P="styles_setPasswordDrawer__VWr65",N="styles_setPasswordDrawerTitle__OrQnq",b="styles_setPasswordDrawerForm__agf35",C="styles_setPasswordDrawerBtnContainer__o11-V",g=a(1413),Z=a(4165),S=a(5861),k=a(1134),F=a(7027),M=a(7828),E=a(4123),I=a(7301),A=a(7689),T=a(184),D=function(s){s.setAvatarInitials;var e,a,n,o,D,L,W=(0,l.useState)(!1),O=(0,t.Z)(W,2),q=O[0],B=O[1],Q=(0,k.cI)({mode:"onChange"}),R=Q.register,V=Q.handleSubmit,U=Q.formState,Y=U.errors,G=U.isValid,z=(Q.control,Q.watch),H=Q.reset,J=(0,l.useState)([]),K=(0,t.Z)(J,2),X=K[0],$=K[1],ss=F.ZP.useMessage(),es=(0,t.Z)(ss,2),as=es[0],rs=es[1],ns=(0,r.useMediaQuery)({maxWidth:610}),ts=(0,A.UO)().clientId,ls=(0,l.useState)(null),os=(0,t.Z)(ls,2),cs=(os[0],os[1]);(0,l.useEffect)((function(){function s(){return(s=(0,S.Z)((0,Z.Z)().mark((function s(){var e,a;return(0,Z.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,I.P_)("query/?q=SELECT+Id,Member_Portal_Password__c,Full_Name__c,Email+FROM+Contact+WHERE+(Membership_Status__c = 'Active'+OR+Membership_Status__c = 'Testing')+AND+RecordTypeId = '01236000000yGps'+AND+Id='".concat(ts,"'"));case 3:e=s.sent,a=e.records.map((function(s){return{key:s.Id,fullName:s.Full_Name__c,email:s.Email,memberPassword:s.Member_Portal_Password__c}})),$(a),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0),cs("Failed");case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()}),[ts]);var ds=function(){B(!1)},is=function(){H(),B(!1)},us=function(){var s=(0,S.Z)((0,Z.Z)().mark((function s(e){var a,r;return(0,Z.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a="/sobjects/Contact/".concat(ts),r={Member_Portal_Password__c:e.password},s.prev=2,s.next=5,(0,I.E9)(a,r);case 5:ds(),as.open({type:"success",content:"Password updated successfully!"}),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(2),console.error("Failed to update password:",s.t0),as.open({type:"success",content:"Failed to update password. Please try again later."});case 13:case"end":return s.stop()}}),s,null,[[2,9]])})));return function(e){return s.apply(this,arguments)}}(),ms=z("password",""),hs=z("confirmPassword","");return(0,T.jsxs)("div",{className:i,children:[rs,(0,T.jsx)("h2",{className:u,children:"My account"}),(0,T.jsx)("hr",{}),(0,T.jsx)("h4",{className:m,children:"Personal information"}),(0,T.jsxs)("div",{className:c,children:[(0,T.jsx)("small",{className:d,children:"Full Name"}),(0,T.jsx)("p",{className:h,children:(null===(e=X[0])||void 0===e?void 0:e.fullName)||"Loading..."})]}),(0,T.jsxs)("div",{className:c,children:[(0,T.jsx)("small",{className:d,children:"Email"}),(0,T.jsx)("p",{className:h,children:(null===(a=X[0])||void 0===a?void 0:a.email)||"Loading..."})]}),(0,T.jsx)("hr",{style:{opacity:"50%"}}),(0,T.jsx)("h4",{className:m,children:"Account changes"}),(0,T.jsx)("p",{children:"Password"}),null!==(n=X[0])&&void 0!==n&&n.memberPassword?(0,T.jsx)("p",{className:p,children:"You can change password"}):(0,T.jsx)("p",{className:p,children:"You can set a permanent password if you don't want to use temporary login codes."}),(0,T.jsx)("button",{onClick:function(){B(!0)},className:_,children:null!==(o=X[0])&&void 0!==o&&o.memberPassword?"Change Password":"Set Password"}),(0,T.jsx)("hr",{style:{opacity:"50%"}}),ns?(0,T.jsx)(M.Z,{footerStyle:{border:"none"},closeIcon:!1,width:"100%",placement:"right",onClose:is,open:q,children:(0,T.jsx)("section",{className:P,children:(0,T.jsxs)("form",{children:[(0,T.jsx)("div",{className:N,children:(0,T.jsx)("h3",{children:null!==(D=X[0])&&void 0!==D&&D.memberPassword?"Change Password":"Set Password"})}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsxs)("div",{className:f,children:[(0,T.jsx)("label",{className:d,children:"Create Password"}),(0,T.jsx)("input",(0,g.Z)({placeholder:"Enter your password",className:h,type:"password"},R("password",{minLength:{value:8,message:"Password must be at least 8 characters"}}))),(0,T.jsx)("div",{children:(null===Y||void 0===Y?void 0:Y.password)&&(0,T.jsx)("p",{children:Y.password.message})})]}),(0,T.jsxs)("div",{className:f,children:[(0,T.jsx)("label",{className:d,children:"Confirm Password"}),(0,T.jsx)("input",(0,g.Z)({placeholder:"Enter your password",className:h,type:"password"},R("confirmPassword",{validate:function(s){return s===ms||"Passwords do not match"}}))),(0,T.jsx)("div",{children:(null===Y||void 0===Y?void 0:Y.confirmPassword)&&(0,T.jsx)("p",{children:Y.confirmPassword.message})})]}),(0,T.jsxs)("div",{className:C,children:[(0,T.jsx)("button",{type:"button",onClick:is,className:j,children:"Cancel"}),(0,T.jsx)("button",{onClick:V(us),disabled:!ms||ms!==hs||!G,className:v,children:"Save"})]})]})]})})}):(0,T.jsx)(E.Z,{width:"665px",centered:!0,closeIcon:!1,footer:null,open:q,onOk:ds,onCancel:is,children:(0,T.jsx)("section",{className:w,children:(0,T.jsxs)("form",{children:[(0,T.jsxs)("div",{className:x,children:[(0,T.jsx)("h3",{children:null!==(L=X[0])&&void 0!==L&&L.memberPassword?"Change Password":"Set Password"}),(0,T.jsx)("button",{type:"button",onClick:is,className:j,children:"Cancel"}),(0,T.jsx)("button",{onClick:V(us),disabled:!ms||ms!==hs||!G,className:v,children:"Save"})]}),(0,T.jsxs)("div",{className:y,children:[(0,T.jsxs)("div",{className:f,children:[(0,T.jsx)("label",{className:d,children:"Create Password"}),(0,T.jsx)("input",(0,g.Z)({placeholder:"Enter your password",className:h,type:"password"},R("password",{minLength:{value:8,message:"Password must be at least 8 characters"}}))),(0,T.jsx)("div",{children:(null===Y||void 0===Y?void 0:Y.password)&&(0,T.jsx)("p",{children:Y.password.message})})]}),(0,T.jsxs)("div",{className:f,children:[(0,T.jsx)("label",{className:d,children:"Confirm Password"}),(0,T.jsx)("input",(0,g.Z)({placeholder:"Enter your password",className:h,type:"password"},R("confirmPassword",{validate:function(s){return s===ms||"Passwords do not match"}}))),(0,T.jsx)("div",{children:(null===Y||void 0===Y?void 0:Y.confirmPassword)&&(0,T.jsx)("p",{children:Y.confirmPassword.message})})]})]})]})})})]})},L=function(){var s=(0,l.useState)(null),e=(0,t.Z)(s,2),a=(e[0],e[1]);(0,r.useMediaQuery)({maxWidth:610}),(0,r.useMediaQuery)({maxWidth:1024});return(0,T.jsx)("section",{className:o,children:(0,T.jsx)(D,{setAvatarInitials:a})})},W=function(){(0,r.useMediaQuery)({maxWidth:610});return(0,T.jsxs)("main",{style:{backgroundColor:"#FFFFFF",height:"100vh"},children:[(0,T.jsx)(n.Z,{}),(0,T.jsx)(L,{})]})}}}]);
//# sourceMappingURL=636.8c2814fc.chunk.js.map