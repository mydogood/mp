{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shannoncoakley/Documents/mp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/shannoncoakley/Documents/mp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/shannoncoakley/Documents/mp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/shannoncoakley/Documents/mp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{useMediaQuery}from\"react-responsive\";import{Drawer,Avatar,message}from\"antd\";import{UserOutlined}from\"@ant-design/icons\";import{CloseOutlined}from\"@ant-design/icons\";import{marked}from\"marked\";import RequestModal from\"./ui/RequestModal\";import AcceptRequestModal from\"./ui/AcceptRequestModal\";import styles from\"./styles.module.sass\";import{usePartnerContext}from\"./contexts/IncentivesContext\";import{createDataInSalesForce,fetchDataFromSalesForce,updateDataInSalesForce}from\"../../../salesforceAuth\";import{getMemberInfoFromContact}from\"../../../getSalesForceData\";import RequestTextModal from\"./ui/RequestTextModal\";import NoDQModal from\"./ui/NoDQModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PartnerDrawer=function PartnerDrawer(_ref){var _partnerDetails$filte;var isOpen=_ref.isOpen,onClose=_ref.onClose,partnerDetails=_ref.partnerDetails;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDeclineModalOpen=_useState2[0],setIsDeclineModalOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAcceptModalOpen=_useState4[0],setIsAcceptModalOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isRequestModalOpen=_useState6[0],setIsRequestModalOpen=_useState6[1];var _useState7=useState(\"No interest\"),_useState8=_slicedToArray(_useState7,2),selectedCheckbox=_useState8[0],setSelectedCheckbox=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),acceptMeetings=_useState10[0],setAcceptMeetings=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),isDQpartner=_useState12[0],setIsDQpartner=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),noDQModalState=_useState14[0],setNoDQModalState=_useState14[1];var _usePartnerContext=usePartnerContext(),addAcceptedPartner=_usePartnerContext.addAcceptedPartner,addRequestedPartner=_usePartnerContext.addRequestedPartner,addDeclinedPartner=_usePartnerContext.addDeclinedPartner,declinedList=_usePartnerContext.declinedList,acceptedList=_usePartnerContext.acceptedList,requestedList=_usePartnerContext.requestedList,removeAcceptedPartner=_usePartnerContext.removeAcceptedPartner,removeDeclinePartner=_usePartnerContext.removeDeclinePartner;var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isAccepted=_useState16[0],setIsAccepted=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isDeclined=_useState18[0],setIsDeclined=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),interestText=_useState20[0],setInterestText=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),interestTextAvailability=_useState22[0],setInterestTextAvailability=_useState22[1];var _message$useMessage=message.useMessage(),_message$useMessage2=_slicedToArray(_message$useMessage,2),messageApi=_message$useMessage2[0],contextHolder=_message$useMessage2[1];var _useParams=useParams(),clientId=_useParams.clientId;var isMobile=useMediaQuery({maxWidth:610});var isTablet=useMediaQuery({maxWidth:1024});var isPartnerAccepted=acceptedList.some(function(item){return item.key===(partnerDetails===null||partnerDetails===void 0?void 0:partnerDetails.key);});var isPartnerRequested=requestedList.some(function(item){return item.key===(partnerDetails===null||partnerDetails===void 0?void 0:partnerDetails.key);});var isPartnerDeclined=declinedList.some(function(item){return item.key===(partnerDetails===null||partnerDetails===void 0?void 0:partnerDetails.key);});var showAcceptAnswerModal=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var salesForceData,DQPartnerData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!partnerDetails){_context.next=6;break;}_context.next=4;return fetchDataFromSalesForce(\"query/?q=SELECT+Id,Client_Name__c,Stage_MP__c,DQ_Partner__c,DQ_Question__c+FROM+Meeting__c+WHERE+DQ_Partner__c=true+AND+MemberC__c='\".concat(clientId,\"'+AND+(Client_Id__c='\").concat(partnerDetails.clientKey,\"'+OR+Client_Id__c='\").concat(partnerDetails.key,\"')\"));case 4:salesForceData=_context.sent;if(salesForceData&&salesForceData.records&&salesForceData.records[0]&&salesForceData.records[0].DQ_Question__c){setAcceptMeetings(function(prev){return _objectSpread(_objectSpread({},prev),{},{question:salesForceData.records[0].DQ_Question__c});});}else{console.error(\"Invalid data format:\",salesForceData);}case 6:if(!partnerDetails){_context.next=11;break;}_context.next=9;return fetchDataFromSalesForce(\"query/?q=SELECT+DQ_Partner__c+FROM+Meeting__c+WHERE+MemberC__c='\".concat(clientId,\"'+AND+(Client_Id__c='\").concat(partnerDetails.clientKey,\"'+OR+Client_Id__c='\").concat(partnerDetails.key,\"')\"));case 9:DQPartnerData=_context.sent;if(DQPartnerData&&DQPartnerData.records&&DQPartnerData.records[0]&&DQPartnerData.records[0].DQ_Partner__c){setIsDQpartner(function(prev){return _objectSpread(_objectSpread({},prev),{},{partner:DQPartnerData.records[0].DQ_Partner__c});});setIsAcceptModalOpen(true);}else{console.log(\"no DQ Modal\");showNoDQModal();}case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching partner details:\",_context.t0);case 16:_context.prev=16;return _context.finish(16);case 18:case\"end\":return _context.stop();}},_callee,null,[[0,13,16,18]]);}));return function showAcceptAnswerModal(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(partnerDetails){setIsAccepted(acceptedList.some(function(item){return item.key===partnerDetails.key;}));setIsDeclined(declinedList.some(function(item){return item.key===partnerDetails.key;}));}},[partnerDetails,acceptedList,declinedList]);var success=function success(){messageApi.open({type:\"success\",content:\"Data sent successfully\"});};var handleAcceptClick=function handleAcceptClick(){showAcceptAnswerModal();};var showRequestModal=function showRequestModal(){setIsRequestModalOpen(true);};var handleCheckboxSelect=function handleCheckboxSelect(checkboxValue){setSelectedCheckbox(checkboxValue);};var handleRequestClick=function handleRequestClick(){if(partnerDetails){if(selectedCheckbox===\"Yes\"){var partnerWithInterest=_objectSpread(_objectSpread({},partnerDetails),{},{DQ_Response__c:selectedCheckbox,Available_Dates_Times__c:interestTextAvailability});console.log({partnerWithInterest:partnerWithInterest});updatePartnerInSalesForce(partnerWithInterest,\"Accepted\");onClose();setInterestTextAvailability(\"\");setIsAcceptModalOpen(false);}else if(selectedCheckbox===\"No\"){var _partnerWithInterest=_objectSpread(_objectSpread({},partnerDetails),{},{DQ_Response__c:selectedCheckbox});console.log({partnerWithInterest:_partnerWithInterest});updatePartnerInSalesForce(_partnerWithInterest,\"Client-Declined\");onClose();setInterestTextAvailability(\"\");setIsAcceptModalOpen(false);}}};var handleRequestTextClick=function handleRequestTextClick(){if(partnerDetails){var partnerWithInterest=_objectSpread(_objectSpread({},partnerDetails),{},{Interest_in_Partner__c:interestText});updatePartnerInSalesForce(partnerWithInterest,\"Requested\");onClose();setInterestTextAvailability(\"\");setIsAcceptModalOpen(false);}};var handleNoDQClick=function handleNoDQClick(){if(partnerDetails){var partnerWithInterest=_objectSpread(_objectSpread({},partnerDetails),{},{Available_Dates_Times__c:interestTextAvailability});updatePartnerInSalesForce(partnerWithInterest,\"Accepted\");onClose();setInterestTextAvailability(\"\");setIsAcceptModalOpen(false);}};var handleDeclineClick=function handleDeclineClick(){if(partnerDetails&&selectedCheckbox){if(!isDeclined){var _declinedPartnerWithReason=_objectSpread(_objectSpread({},partnerDetails),{},{declineReason:selectedCheckbox});updatePartnerInSalesForce(_declinedPartnerWithReason,\"Declined\");onClose();setIsDeclineModalOpen(false);}var declinedPartnerWithReason=_objectSpread(_objectSpread({},partnerDetails),{},{declineReason:selectedCheckbox});updatePartnerInSalesForce(declinedPartnerWithReason,\"Declined\");onClose();setIsDeclineModalOpen(false);}};var showDeclineModal=function showDeclineModal(){setIsDeclineModalOpen(true);};var onDeclined=function onDeclined(){setIsDeclineModalOpen(false);};var handleCancelDeclined=function handleCancelDeclined(){setIsDeclineModalOpen(false);};var showAcceptModal=function showAcceptModal(){setIsAcceptModalOpen(true);};var showNoDQModal=function showNoDQModal(){setNoDQModalState(true);};var OnDQModalCancel=function OnDQModalCancel(){setNoDQModalState(false);};var onAccept=function onAccept(){setIsAcceptModalOpen(false);};var handleCancelAccept=function handleCancelAccept(){setIsAcceptModalOpen(false);};var handleCancelRequest=function handleCancelRequest(){setIsRequestModalOpen(false);};var getDisplayLink=function getDisplayLink(url){if(!url){return\"\";}try{var parsedUrl=new URL(url);var path=parsedUrl.pathname===\"/\"?\"\":parsedUrl.pathname;return\"\".concat(parsedUrl.hostname).concat(path);}catch(e){return url;}};function stripStyles(html){var domParser=new DOMParser();var document=domParser.parseFromString(html,\"text/html\");var allElements=document.querySelectorAll(\"*\");allElements.forEach(function(element){return element.removeAttribute(\"style\");});return document.body.innerHTML;}var renderAvatar=function renderAvatar(){if(!partnerDetails||!partnerDetails.Client_Logo__c){return/*#__PURE__*/_jsx(Avatar,{shape:\"square\",size:48,icon:/*#__PURE__*/_jsx(UserOutlined,{})});}var isLink=partnerDetails.Client_Logo__c.startsWith(\"http://\")||partnerDetails.Client_Logo__c.startsWith(\"https://\");if(isLink){return/*#__PURE__*/_jsx(Avatar,{shape:\"square\",size:48,src:partnerDetails.Client_Logo__c});}if(partnerDetails.Client_Logo__c.startsWith(\"<img\")){return/*#__PURE__*/_jsx(\"div\",{style:{width:\"48px\",height:\"48px\"},dangerouslySetInnerHTML:{__html:partnerDetails.Client_Logo__c}});}return/*#__PURE__*/_jsx(Avatar,{shape:\"square\",size:48,icon:/*#__PURE__*/_jsx(UserOutlined,{})});};var updatePartnerInSalesForce=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(partner,status){var updatedFields,endpoint,today,formattedToday,memberId;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:updatedFields={};endpoint=\"\";// Мы установим это значение ниже\n// const incentiveName = selectedIncentives.length > 0 ? selectedIncentives[0].incentive : null;\n_context2.t0=status;_context2.next=_context2.t0===\"Accepted\"?5:_context2.t0===\"Declined\"?8:_context2.t0===\"Client-Declined\"?11:_context2.t0===\"Requested\"?14:25;break;case 5:updatedFields={Stage_M__c:\"Member Accepted\",DQ_Response__c:partner.DQ_Response__c,Available_Dates_Times__c:interestTextAvailability,Interest_in_Partner__c:interestText};endpoint=\"sobjects/Meeting__c/\".concat(partner.key);return _context2.abrupt(\"break\",25);case 8:updatedFields={Stage_M__c:\"Member Declined\",Decline_Reason__c:partner.declineReason};endpoint=\"sobjects/Meeting__c/\".concat(partner.key);return _context2.abrupt(\"break\",25);case 11:updatedFields={Stage_M__c:\"Client Declined\",Client_Decline_Reason__c:\"No to DQ Question\",DQ_Response__c:partner.DQ_Response__c};endpoint=\"sobjects/Meeting__c/\".concat(partner.key);return _context2.abrupt(\"break\",25);case 14:today=new Date();formattedToday=\"\".concat(today.getFullYear(),\"-\").concat(String(today.getMonth()+1).padStart(2,\"0\"),\"-\").concat(String(today.getDate()).padStart(2,\"0\"));_context2.next=18;return getMemberInfoFromContact(\"\".concat(clientId));case 18:memberId=_context2.sent;if(memberId){_context2.next=22;break;}console.error(\"Cannot find Member ID.\");return _context2.abrupt(\"return\");case 22:updatedFields={RecordTypeId:\"01236000000OoHj\",Stage_M__c:\"Requested by Member\",Member1__c:memberId.Member__c,Member_Account__c:memberId.AccountId,MemberC__c:memberId.Id,Client_Campaign__c:partner.Client_Campaign_ID__c,Meeting_Source__c:\"Member Portal\",Intro_Type__c:\"Bulk\",Request_Submitted_Date_M__c:formattedToday,Interest_in_Partner__c:partner.Interest_in_Partner__c||\"\"};endpoint=\"sobjects/Meeting__c/\";return _context2.abrupt(\"break\",25);case 25:_context2.prev=25;if(!(status===\"Requested\")){_context2.next=32;break;}_context2.next=29;return createDataInSalesForce(endpoint,updatedFields);case 29:success();_context2.next=35;break;case 32:_context2.next=34;return updateDataInSalesForce(endpoint,updatedFields);case 34:success();case 35:_context2.next=40;break;case 37:_context2.prev=37;_context2.t1=_context2[\"catch\"](25);console.error(\"Error processing partner with ID \".concat(partner.key,\":\"),_context2.t1);case 40:case\"end\":return _context2.stop();}},_callee2,null,[[25,37]]);}));return function updatePartnerInSalesForce(_x,_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Drawer,{footerStyle:{border:\"none\"},closeIcon:false,width:isMobile?\"100%\":isTablet?\"60%\":\"40%\",placement:\"right\",onClose:onClose,open:isOpen,children:partnerDetails&&/*#__PURE__*/_jsxs(\"section\",{className:styles.drawerContainer,children:[/*#__PURE__*/_jsx(NoDQModal,{noDQModalState:noDQModalState,showNoDQModal:showNoDQModal,OnDQModalCancel:OnDQModalCancel,interestTextAvailability:interestTextAvailability,setInterestTextAvailability:setInterestTextAvailability,onRequest:handleNoDQClick}),/*#__PURE__*/_jsx(AcceptRequestModal,{isAcceptModalOpen:isAcceptModalOpen,onAcceptShowModal:showAcceptModal,onAccept:handleRequestClick,OnAcceptCancel:handleCancelAccept,interestTextAvailability:interestTextAvailability,setInterestTextAvailability:setInterestTextAvailability,interestText:interestText,setInterestText:setInterestText,onCheckboxChange:handleCheckboxSelect,selectedCheckbox:selectedCheckbox,acceptMeetings:acceptMeetings}),/*#__PURE__*/_jsx(RequestModal,{selectedCheckbox:selectedCheckbox,onCheckboxChange:handleCheckboxSelect,isDeclineModalOpen:isDeclineModalOpen,onDeclineShowModal:showDeclineModal,onDecline:handleDeclineClick,OnDeclineCancel:handleCancelDeclined}),/*#__PURE__*/_jsx(RequestTextModal,{isRequestModalOpen:isRequestModalOpen,onRequestShowModal:showRequestModal,onRequest:handleRequestTextClick,OnRequestCancel:handleCancelRequest,interestText:interestText,setInterestText:setInterestText}),/*#__PURE__*/_jsxs(\"div\",{className:styles.closeBtn,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Request details\"}),/*#__PURE__*/_jsx(CloseOutlined,{onClick:onClose})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.drawerTitleContainer,children:[/*#__PURE__*/_jsx(\"div\",{children:renderAvatar()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:partnerDetails.partnerName}),/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noopener noreferrer\",href:partnerDetails.website,children:getDisplayLink(partnerDetails.website)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.drawerBtnContainer,children:partnerDetails.hasRequested?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{disabled:isPartnerAccepted,onClick:handleAcceptClick,className:styles.drawerBtn,children:\"Accept\"}),/*#__PURE__*/_jsx(\"button\",{disabled:isPartnerDeclined,onClick:showDeclineModal,className:styles.drawerBtn,children:\"Decline\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{disabled:isPartnerRequested,onClick:showRequestModal,className:styles.requestMeetBtn,children:\"Request to Meet\"})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"article\",{className:styles.drawerArticle,children:[/*#__PURE__*/_jsx(\"h4\",{className:styles.drawerArticleTitle,children:\"Please review and ensure alignment with your role/interests before accepting this meeting. If not aligned, kindly decline the invitation.\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\"},className:styles.drawerArticleDescription,dangerouslySetInnerHTML:{__html:stripStyles(marked(partnerDetails.richMerge||\"\"))}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"article\",{className:styles.drawerArticle,children:[/*#__PURE__*/_jsx(\"h4\",{className:styles.drawerArticleTitle,children:partnerDetails.filterCategory?\"Matching Priority areas\":\"\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles.drawerArticleDescription,children:[\" \",partnerDetails===null||partnerDetails===void 0?void 0:(_partnerDetails$filte=partnerDetails.filterCategory)===null||_partnerDetails$filte===void 0?void 0:_partnerDetails$filte.join(\", \"),\" \"]})]})]})});};export default PartnerDrawer;","map":{"version":3,"names":["React","useEffect","useState","useParams","useMediaQuery","Drawer","Avatar","message","UserOutlined","CloseOutlined","marked","RequestModal","AcceptRequestModal","styles","usePartnerContext","createDataInSalesForce","fetchDataFromSalesForce","updateDataInSalesForce","getMemberInfoFromContact","RequestTextModal","NoDQModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PartnerDrawer","_ref","_partnerDetails$filte","isOpen","onClose","partnerDetails","_useState","_useState2","_slicedToArray","isDeclineModalOpen","setIsDeclineModalOpen","_useState3","_useState4","isAcceptModalOpen","setIsAcceptModalOpen","_useState5","_useState6","isRequestModalOpen","setIsRequestModalOpen","_useState7","_useState8","selectedCheckbox","setSelectedCheckbox","_useState9","_useState10","acceptMeetings","setAcceptMeetings","_useState11","_useState12","isDQpartner","setIsDQpartner","_useState13","_useState14","noDQModalState","setNoDQModalState","_usePartnerContext","addAcceptedPartner","addRequestedPartner","addDeclinedPartner","declinedList","acceptedList","requestedList","removeAcceptedPartner","removeDeclinePartner","_useState15","_useState16","isAccepted","setIsAccepted","_useState17","_useState18","isDeclined","setIsDeclined","_useState19","_useState20","interestText","setInterestText","_useState21","_useState22","interestTextAvailability","setInterestTextAvailability","_message$useMessage","useMessage","_message$useMessage2","messageApi","contextHolder","_useParams","clientId","isMobile","maxWidth","isTablet","isPartnerAccepted","some","item","key","isPartnerRequested","isPartnerDeclined","showAcceptAnswerModal","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","salesForceData","DQPartnerData","wrap","_callee$","_context","prev","next","concat","clientKey","sent","records","DQ_Question__c","_objectSpread","question","console","error","DQ_Partner__c","partner","log","showNoDQModal","t0","finish","stop","apply","arguments","success","open","type","content","handleAcceptClick","showRequestModal","handleCheckboxSelect","checkboxValue","handleRequestClick","partnerWithInterest","DQ_Response__c","Available_Dates_Times__c","updatePartnerInSalesForce","handleRequestTextClick","Interest_in_Partner__c","handleNoDQClick","handleDeclineClick","declinedPartnerWithReason","declineReason","showDeclineModal","onDeclined","handleCancelDeclined","showAcceptModal","OnDQModalCancel","onAccept","handleCancelAccept","handleCancelRequest","getDisplayLink","url","parsedUrl","URL","path","pathname","hostname","e","stripStyles","html","domParser","DOMParser","document","parseFromString","allElements","querySelectorAll","forEach","element","removeAttribute","body","innerHTML","renderAvatar","Client_Logo__c","shape","size","icon","isLink","startsWith","src","style","width","height","dangerouslySetInnerHTML","__html","_ref3","_callee2","status","updatedFields","endpoint","today","formattedToday","memberId","_callee2$","_context2","Stage_M__c","abrupt","Decline_Reason__c","Client_Decline_Reason__c","Date","getFullYear","String","getMonth","padStart","getDate","RecordTypeId","Member1__c","Member__c","Member_Account__c","AccountId","MemberC__c","Id","Client_Campaign__c","Client_Campaign_ID__c","Meeting_Source__c","Intro_Type__c","Request_Submitted_Date_M__c","t1","_x","_x2","footerStyle","border","closeIcon","placement","children","className","drawerContainer","onRequest","onAcceptShowModal","OnAcceptCancel","onCheckboxChange","onDeclineShowModal","onDecline","OnDeclineCancel","onRequestShowModal","OnRequestCancel","closeBtn","onClick","drawerTitleContainer","partnerName","target","rel","href","website","drawerBtnContainer","hasRequested","disabled","drawerBtn","requestMeetBtn","drawerArticle","drawerArticleTitle","fontSize","drawerArticleDescription","richMerge","filterCategory","join"],"sources":["/Users/shannoncoakley/Documents/mp/src/components/sections/homeSection/PartnerDrawer.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Drawer, Avatar, message } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { marked } from \"marked\";\n\nimport RequestModal from \"./ui/RequestModal\";\nimport AcceptRequestModal from \"./ui/AcceptRequestModal\";\n\nimport styles from \"./styles.module.sass\";\nimport { usePartnerContext } from \"./contexts/IncentivesContext\";\nimport {\n  createDataInSalesForce,\n  fetchDataFromSalesForce,\n  updateDataInSalesForce,\n} from \"../../../salesforceAuth\";\nimport { getMemberInfoFromContact } from \"../../../getSalesForceData\";\nimport RequestTextModal from \"./ui/RequestTextModal\";\nimport NoDQModal from \"./ui/NoDQModal\";\n\ninterface partnerQuestion {\n  question: string;\n}\ninterface partner {\n  partner: boolean;\n}\n\ninterface PartnersDataType {\n  DQ_Response__c?: string;\n  key: string;\n  partnerName: string;\n  overview: string;\n  hasRequested: boolean;\n  website?: string;\n  richMerge?: string;\n  surveyOptionName?: string[];\n  Related_Membership_Member__c: string;\n  Related_Membership__c: string;\n  Survey_Option_Name__c: string[];\n  filterCategory?: string[];\n  Client_Logo__c?: string;\n  Stage_M__c?: string;\n  Stage_MP__c?: string;\n  Sweepstakes_Type__c?: string;\n  Client_Campaign_ID__c?: string;\n  Interest_in_Partner__c?: string;\n  RecordTypeId?: string;\n  Client_Campaign__c?: string;\n  Meeting_Source__c?: string;\n  Intro_Type__c?: string;\n  Request_Submitted_Date_M__c?: string;\n  declineReason?: string | JSX.Element;\n  Client_Decline_Reason__c?: string;\n  clientKey?: string;\n}\ninterface PartnerDrawerProps {\n  isOpen: boolean;\n  onClose: () => void;\n  partnerDetails: PartnersDataType | null;\n}\nconst PartnerDrawer: FC<PartnerDrawerProps> = ({\n  isOpen,\n  onClose,\n  partnerDetails,\n}) => {\n  const [isDeclineModalOpen, setIsDeclineModalOpen] = useState(false);\n  const [isAcceptModalOpen, setIsAcceptModalOpen] = useState(false);\n  const [isRequestModalOpen, setIsRequestModalOpen] = useState(false);\n  const [selectedCheckbox, setSelectedCheckbox] = useState<string | null>(\n    \"No interest\"\n  );\n  const [acceptMeetings, setAcceptMeetings] = useState<partnerQuestion | null>(\n    null\n  );\n  const [isDQpartner, setIsDQpartner] = useState<partner | null>(null);\n  const [noDQModalState, setNoDQModalState] = useState(false);\n\n  const {\n    addAcceptedPartner,\n    addRequestedPartner,\n    addDeclinedPartner,\n    declinedList,\n    acceptedList,\n    requestedList,\n    removeAcceptedPartner,\n    removeDeclinePartner,\n  } = usePartnerContext();\n  const [isAccepted, setIsAccepted] = useState(false);\n  const [isDeclined, setIsDeclined] = useState(false);\n  const [interestText, setInterestText] = useState(\"\");\n  const [interestTextAvailability, setInterestTextAvailability] = useState(\"\");\n  const [messageApi, contextHolder] = message.useMessage();\n  const { clientId } = useParams<{ clientId: string }>();\n\n  const isMobile = useMediaQuery({ maxWidth: 610 });\n  const isTablet = useMediaQuery({ maxWidth: 1024 });\n\n  const isPartnerAccepted = acceptedList.some(\n    (item) => item.key === partnerDetails?.key\n  );\n  const isPartnerRequested = requestedList.some(\n    (item) => item.key === partnerDetails?.key\n  );\n  const isPartnerDeclined = declinedList.some(\n    (item) => item.key === partnerDetails?.key\n  );\n\n  const showAcceptAnswerModal = async () => {\n    try {\n      if (partnerDetails) {\n        const salesForceData = await fetchDataFromSalesForce(\n          `query/?q=SELECT+Id,Client_Name__c,Stage_MP__c,DQ_Partner__c,DQ_Question__c+FROM+Meeting__c+WHERE+DQ_Partner__c=true+AND+MemberC__c='${clientId}'+AND+(Client_Id__c='${partnerDetails.clientKey}'+OR+Client_Id__c='${partnerDetails.key}')`\n        );\n        if (\n          salesForceData &&\n          salesForceData.records &&\n          salesForceData.records[0] &&\n          salesForceData.records[0].DQ_Question__c\n        ) {\n          setAcceptMeetings((prev) => ({\n            ...prev!,\n            question: salesForceData.records[0].DQ_Question__c,\n          }));\n        } else {\n          console.error(\"Invalid data format:\", salesForceData);\n        }\n      }\n\n      if (partnerDetails) {\n        const DQPartnerData = await fetchDataFromSalesForce(\n          `query/?q=SELECT+DQ_Partner__c+FROM+Meeting__c+WHERE+MemberC__c='${clientId}'+AND+(Client_Id__c='${partnerDetails.clientKey}'+OR+Client_Id__c='${partnerDetails.key}')`\n        );\n        if (\n          DQPartnerData &&\n          DQPartnerData.records &&\n          DQPartnerData.records[0] &&\n          DQPartnerData.records[0].DQ_Partner__c\n        ) {\n          setIsDQpartner((prev) => ({\n            ...prev!,\n            partner: DQPartnerData.records[0].DQ_Partner__c,\n          }));\n          setIsAcceptModalOpen(true);\n        } else {\n          console.log(\"no DQ Modal\");\n          showNoDQModal();\n        }\n      }\n    } catch (error) {\n      console.error(\"Error fetching partner details:\", error);\n    } finally {\n      // setLoadingPartnerDetails(false);\n    }\n  };\n\n  useEffect(() => {\n    if (partnerDetails) {\n      setIsAccepted(\n        acceptedList.some((item) => item.key === partnerDetails.key)\n      );\n      setIsDeclined(\n        declinedList.some((item) => item.key === partnerDetails.key)\n      );\n    }\n  }, [partnerDetails, acceptedList, declinedList]);\n\n  const success = () => {\n    messageApi.open({\n      type: \"success\",\n      content: \"Data sent successfully\",\n    });\n  };\n\n  const handleAcceptClick = () => {\n    showAcceptAnswerModal();\n  };\n\n  const showRequestModal = () => {\n    setIsRequestModalOpen(true);\n  };\n\n  const handleCheckboxSelect = (checkboxValue: string) => {\n    setSelectedCheckbox(checkboxValue);\n  };\n\n  const handleRequestClick = () => {\n    if (partnerDetails) {\n      if (selectedCheckbox === \"Yes\") {\n        const partnerWithInterest = {\n          ...partnerDetails,\n          DQ_Response__c: selectedCheckbox,\n          Available_Dates_Times__c: interestTextAvailability,\n        };\n        console.log({ partnerWithInterest });\n        updatePartnerInSalesForce(partnerWithInterest, \"Accepted\");\n        onClose();\n        setInterestTextAvailability(\"\");\n        setIsAcceptModalOpen(false);\n      } else if (selectedCheckbox === \"No\") {\n        const partnerWithInterest = {\n          ...partnerDetails,\n          DQ_Response__c: selectedCheckbox,\n        };\n        console.log({ partnerWithInterest });\n        updatePartnerInSalesForce(partnerWithInterest, \"Client-Declined\");\n        onClose();\n        setInterestTextAvailability(\"\");\n        setIsAcceptModalOpen(false);\n      }\n    }\n  };\n\n  const handleRequestTextClick = () => {\n    if (partnerDetails) {\n      const partnerWithInterest = {\n        ...partnerDetails,\n        Interest_in_Partner__c: interestText,\n      };\n      updatePartnerInSalesForce(partnerWithInterest, \"Requested\");\n      onClose();\n      setInterestTextAvailability(\"\");\n      setIsAcceptModalOpen(false);\n    }\n  };\n\n  const handleNoDQClick = () => {\n    if (partnerDetails) {\n      const partnerWithInterest = {\n        ...partnerDetails,\n        Available_Dates_Times__c: interestTextAvailability,\n      };\n      updatePartnerInSalesForce(partnerWithInterest, \"Accepted\");\n      onClose();\n      setInterestTextAvailability(\"\");\n      setIsAcceptModalOpen(false);\n    }\n  };\n\n  const handleDeclineClick = () => {\n    if (partnerDetails && selectedCheckbox) {\n      if (!isDeclined) {\n        const declinedPartnerWithReason = {\n          ...partnerDetails,\n          declineReason: selectedCheckbox,\n        };\n        updatePartnerInSalesForce(declinedPartnerWithReason, \"Declined\");\n        onClose();\n        setIsDeclineModalOpen(false);\n      }\n      const declinedPartnerWithReason = {\n        ...partnerDetails,\n        declineReason: selectedCheckbox,\n      };\n      updatePartnerInSalesForce(declinedPartnerWithReason, \"Declined\");\n      onClose();\n      setIsDeclineModalOpen(false);\n    }\n  };\n\n  const showDeclineModal = () => {\n    setIsDeclineModalOpen(true);\n  };\n\n  const onDeclined = () => {\n    setIsDeclineModalOpen(false);\n  };\n\n  const handleCancelDeclined = () => {\n    setIsDeclineModalOpen(false);\n  };\n\n  const showAcceptModal = () => {\n    setIsAcceptModalOpen(true);\n  };\n\n  const showNoDQModal = () => {\n    setNoDQModalState(true);\n  };\n\n  const OnDQModalCancel = () => {\n    setNoDQModalState(false);\n  };\n\n  const onAccept = () => {\n    setIsAcceptModalOpen(false);\n  };\n\n  const handleCancelAccept = () => {\n    setIsAcceptModalOpen(false);\n  };\n\n  const handleCancelRequest = () => {\n    setIsRequestModalOpen(false);\n  };\n\n  const getDisplayLink = (url: string | undefined) => {\n    if (!url) {\n      return \"\";\n    }\n    try {\n      const parsedUrl = new URL(url);\n      const path = parsedUrl.pathname === \"/\" ? \"\" : parsedUrl.pathname;\n      return `${parsedUrl.hostname}${path}`;\n    } catch (e) {\n      return url;\n    }\n  };\n\n  function stripStyles(html: string) {\n    const domParser = new DOMParser();\n    const document = domParser.parseFromString(html, \"text/html\");\n    const allElements = document.querySelectorAll(\"*\");\n    allElements.forEach((element) => element.removeAttribute(\"style\"));\n    return document.body.innerHTML;\n  }\n\n  const renderAvatar = () => {\n    if (!partnerDetails || !partnerDetails.Client_Logo__c) {\n      return <Avatar shape=\"square\" size={48} icon={<UserOutlined />} />;\n    }\n\n    const isLink =\n      partnerDetails.Client_Logo__c.startsWith(\"http://\") ||\n      partnerDetails.Client_Logo__c.startsWith(\"https://\");\n\n    if (isLink) {\n      return (\n        <Avatar shape=\"square\" size={48} src={partnerDetails.Client_Logo__c} />\n      );\n    }\n\n    if (partnerDetails.Client_Logo__c.startsWith(\"<img\")) {\n      return (\n        <div\n          style={{ width: \"48px\", height: \"48px\" }}\n          dangerouslySetInnerHTML={{ __html: partnerDetails.Client_Logo__c }}\n        />\n      );\n    }\n\n    return <Avatar shape=\"square\" size={48} icon={<UserOutlined />} />;\n  };\n\n  const updatePartnerInSalesForce = async (\n    partner: PartnersDataType,\n    status: string\n  ) => {\n    let updatedFields = {};\n    let endpoint = \"\"; // Мы установим это значение ниже\n\n    // const incentiveName = selectedIncentives.length > 0 ? selectedIncentives[0].incentive : null;\n\n    switch (status) {\n      case \"Accepted\":\n        updatedFields = {\n          Stage_M__c: \"Member Accepted\",\n          DQ_Response__c: partner.DQ_Response__c,\n          Available_Dates_Times__c: interestTextAvailability,\n          Interest_in_Partner__c: interestText\n        };\n        endpoint = `sobjects/Meeting__c/${partner.key}`;\n        break;\n\n      case \"Declined\":\n        updatedFields = {\n          Stage_M__c: \"Member Declined\",\n          Decline_Reason__c: partner.declineReason,\n        };\n        endpoint = `sobjects/Meeting__c/${partner.key}`;\n        break;\n\n      case \"Client-Declined\":\n        updatedFields = {\n          Stage_M__c: \"Client Declined\",\n          Client_Decline_Reason__c: \"No to DQ Question\",\n          DQ_Response__c: partner.DQ_Response__c,\n        };\n        endpoint = `sobjects/Meeting__c/${partner.key}`;\n        break;\n\n      case \"Requested\":\n        const today = new Date();\n        const formattedToday = `${today.getFullYear()}-${String(\n          today.getMonth() + 1\n        ).padStart(2, \"0\")}-${String(today.getDate()).padStart(2, \"0\")}`;\n\n        const memberId = await getMemberInfoFromContact(`${clientId}`);\n        if (!memberId) {\n          console.error(\"Cannot find Member ID.\");\n          return;\n        }\n\n        updatedFields = {\n          RecordTypeId: \"01236000000OoHj\",\n          Stage_M__c: \"Requested by Member\",\n          Member1__c: memberId.Member__c,\n          Member_Account__c: memberId.AccountId,\n          MemberC__c: memberId.Id,\n          Client_Campaign__c: partner.Client_Campaign_ID__c,\n          Meeting_Source__c: \"Member Portal\",\n          Intro_Type__c: \"Bulk\",\n          Request_Submitted_Date_M__c: formattedToday,\n          Interest_in_Partner__c: partner.Interest_in_Partner__c || \"\",\n        };\n        endpoint = `sobjects/Meeting__c/`;\n        break;\n    }\n\n    try {\n      if (status === \"Requested\") {\n        await createDataInSalesForce(endpoint, updatedFields);\n        success();\n      } else {\n        await updateDataInSalesForce(endpoint, updatedFields);\n        success();\n      }\n    } catch (error) {\n      console.error(`Error processing partner with ID ${partner.key}:`, error);\n    }\n  };\n\n  return (\n    <Drawer\n      footerStyle={{ border: \"none\" }}\n      closeIcon={false}\n      width={isMobile ? \"100%\" : isTablet ? \"60%\" : \"40%\"}\n      placement=\"right\"\n      onClose={onClose}\n      open={isOpen}\n    >\n      {partnerDetails && (\n        <section className={styles.drawerContainer}>\n          <NoDQModal\n            noDQModalState={noDQModalState}\n            showNoDQModal={showNoDQModal}\n            OnDQModalCancel={OnDQModalCancel}\n            interestTextAvailability={interestTextAvailability}\n            setInterestTextAvailability={setInterestTextAvailability}\n            onRequest={handleNoDQClick}\n          />\n          <AcceptRequestModal\n            isAcceptModalOpen={isAcceptModalOpen}\n            onAcceptShowModal={showAcceptModal}\n            onAccept={handleRequestClick}\n            OnAcceptCancel={handleCancelAccept}\n            interestTextAvailability={interestTextAvailability}\n            setInterestTextAvailability={setInterestTextAvailability}\n            interestText={interestText}\n            setInterestText={setInterestText}\n            onCheckboxChange={handleCheckboxSelect}\n            selectedCheckbox={selectedCheckbox}\n            acceptMeetings={acceptMeetings}\n          />\n          <RequestModal\n            selectedCheckbox={selectedCheckbox}\n            onCheckboxChange={handleCheckboxSelect}\n            isDeclineModalOpen={isDeclineModalOpen}\n            onDeclineShowModal={showDeclineModal}\n            onDecline={handleDeclineClick}\n            OnDeclineCancel={handleCancelDeclined}\n          />\n          <RequestTextModal\n            isRequestModalOpen={isRequestModalOpen}\n            onRequestShowModal={showRequestModal}\n            onRequest={handleRequestTextClick}\n            OnRequestCancel={handleCancelRequest}\n            interestText={interestText}\n            setInterestText={setInterestText}\n          />\n          <div className={styles.closeBtn}>\n            <h2>Request details</h2>\n            <CloseOutlined onClick={onClose} />\n          </div>\n          <div className={styles.drawerTitleContainer}>\n            <div>{renderAvatar()}</div>\n            <div>\n              <h3>{partnerDetails.partnerName}</h3>\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={partnerDetails.website}\n              >\n                {getDisplayLink(partnerDetails.website)}\n              </a>\n            </div>\n          </div>\n          <div className={styles.drawerBtnContainer}>\n            {partnerDetails.hasRequested ? (\n              <>\n                <button\n                  disabled={isPartnerAccepted}\n                  onClick={handleAcceptClick}\n                  className={styles.drawerBtn}\n                >\n                  Accept\n                </button>\n                <button\n                  disabled={isPartnerDeclined}\n                  onClick={showDeclineModal}\n                  className={styles.drawerBtn}\n                >\n                  Decline\n                </button>\n              </>\n            ) : (\n              <>\n                <button\n                  disabled={isPartnerRequested}\n                  onClick={showRequestModal}\n                  className={styles.requestMeetBtn}\n                >\n                  Request to Meet\n                </button>\n              </>\n            )}\n          </div>\n          <br></br>\n          <article className={styles.drawerArticle}>\n            <h4 className={styles.drawerArticleTitle}>\n              Please review and ensure alignment with your role/interests before\n              accepting this meeting. If not aligned, kindly decline the\n              invitation.\n            </h4>\n            <p\n              style={{ fontSize: \"14px\" }}\n              className={styles.drawerArticleDescription}\n              dangerouslySetInnerHTML={{\n                __html: stripStyles(marked(partnerDetails.richMerge || \"\")),\n              }}\n            ></p>\n          </article>\n          <br></br>\n          <article className={styles.drawerArticle}>\n            <h4 className={styles.drawerArticleTitle}>\n              {partnerDetails.filterCategory ? \"Matching Priority areas\" : \"\"}\n            </h4>\n            <p className={styles.drawerArticleDescription}>\n              {\" \"}\n              {partnerDetails?.filterCategory?.join(\", \")}{\" \"}\n            </p>\n          </article>\n        </section>\n      )}\n    </Drawer>\n  );\n};\n\nexport default PartnerDrawer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}