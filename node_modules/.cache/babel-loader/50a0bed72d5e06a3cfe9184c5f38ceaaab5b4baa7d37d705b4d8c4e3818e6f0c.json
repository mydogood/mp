{"ast":null,"code":"import _toConsumableArray from\"/Users/shannoncoakley/Documents/GitHub/mp/memberportal/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/shannoncoakley/Documents/GitHub/mp/memberportal/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/shannoncoakley/Documents/GitHub/mp/memberportal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/shannoncoakley/Documents/GitHub/mp/memberportal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Checkbox,Drawer,Empty,Input}from'antd';import styles from'./styles.module.sass';import{CloseOutlined,SearchOutlined}from\"@ant-design/icons\";import TreeCategories,{items}from\"../ui/TreeCategories\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PartnerDrawer=function PartnerDrawer(_ref){var isOpenFilter=_ref.isOpenFilter,onCloseFilter=_ref.onCloseFilter,onViewOnlyRequestedChange=_ref.onViewOnlyRequestedChange,onApply=_ref.onApply;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputPrefix=_useState2[0],setInputPrefix=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedCategories=_useState4[0],setSelectedCategories=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),checkboxStates=_useState6[0],setCheckboxStates=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),viewOnlyRequested=_useState8[0],setViewOnlyRequested=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),resetCheckboxes=_useState10[0],setResetCheckboxes=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),inputValue=_useState12[0],setInputValue=_useState12[1];var handleClearAll=function handleClearAll(){setSelectedCategories([]);setResetCheckboxes(true);};var handleSelectText=function handleSelectText(text,checked){setCheckboxStates(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},text,checked));});if(text==='Select All'){if(checked){setSelectedCategories(items.flatMap(function(item){return(item.children||[]).map(function(child){return child.text;});}).filter(function(category){return category!=='Select All';}));}else{setSelectedCategories([]);}}else{setSelectedCategories(function(prevSelected){return checked?[].concat(_toConsumableArray(prevSelected),[text]):prevSelected.filter(function(category){return category!==text;});});}};var handleInputChange=function handleInputChange(e){setInputPrefix(e.target.value);};return/*#__PURE__*/_jsx(Drawer,{footerStyle:{border:'none'},closeIcon:false,width:'100%',placement:\"right\",onClose:onCloseFilter,open:isOpenFilter,children:/*#__PURE__*/_jsxs(\"section\",{className:styles.modalContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.modalTitleContainer,children:/*#__PURE__*/_jsx(\"h3\",{children:\"Browse All Partner\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.inputContainer,children:/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return setInputValue(e.target.value);},prefix:inputValue===''?/*#__PURE__*/_jsx(SearchOutlined,{style:{opacity:'40%',fontSize:'16px'}}):/*#__PURE__*/_jsx(\"span\",{}),bordered:false,placeholder:\"search by name, keywords, categories, ets\",value:inputValue})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.filterContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.dropdownContainer,children:[/*#__PURE__*/_jsx(TreeCategories,{onSelectText:handleSelectText,resetCheckboxes:resetCheckboxes,setResetCheckboxes:setResetCheckboxes}),/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(e){setViewOnlyRequested(e.target.checked);onViewOnlyRequestedChange(e.target.checked);},defaultChecked:true,className:styles.reqCheck,children:\"View only partners who have requested to meet\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.filterListContainer,children:selectedCategories.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.controlFilterList,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Added filters:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearAll,children:\"Clear all\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:styles.filterList,children:selectedCategories.map(function(category){return/*#__PURE__*/_jsxs(\"li\",{children:[category,\" \",/*#__PURE__*/_jsx(CloseOutlined,{className:styles.listCloseIcon})]},category);})})]}):/*#__PURE__*/_jsx(Empty,{className:styles.empty,description:'no filter added',image:false})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.btnContainer,children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCloseFilter,className:styles.cancelBtn,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){onApply(inputValue,viewOnlyRequested,selectedCategories);onCloseFilter();},className:styles.applyBtn,children:\"Apply\"})]})]})]})});};export default PartnerDrawer;","map":{"version":3,"names":["React","useState","Checkbox","Drawer","Empty","Input","styles","CloseOutlined","SearchOutlined","TreeCategories","items","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PartnerDrawer","_ref","isOpenFilter","onCloseFilter","onViewOnlyRequestedChange","onApply","_useState","_useState2","_slicedToArray","inputPrefix","setInputPrefix","_useState3","_useState4","selectedCategories","setSelectedCategories","_useState5","_useState6","checkboxStates","setCheckboxStates","_useState7","_useState8","viewOnlyRequested","setViewOnlyRequested","_useState9","_useState10","resetCheckboxes","setResetCheckboxes","_useState11","_useState12","inputValue","setInputValue","handleClearAll","handleSelectText","text","checked","prevState","_objectSpread","_defineProperty","flatMap","item","children","map","child","filter","category","prevSelected","concat","_toConsumableArray","handleInputChange","e","target","value","footerStyle","border","closeIcon","width","placement","onClose","open","className","modalContainer","modalTitleContainer","inputContainer","onChange","prefix","style","opacity","fontSize","bordered","placeholder","filterContainer","dropdownContainer","onSelectText","defaultChecked","reqCheck","filterListContainer","length","controlFilterList","onClick","filterList","listCloseIcon","empty","description","image","btnContainer","cancelBtn","applyBtn"],"sources":["/Users/shannoncoakley/Documents/GitHub/mp/memberportal/src/components/sections/homeSection/mobile/PartnerFilterDrawer.tsx"],"sourcesContent":["import React, {FC, useState, ChangeEvent} from 'react';\nimport {useMediaQuery} from \"react-responsive\"\nimport {Checkbox, Drawer, Empty, Input} from 'antd';\nimport styles from './styles.module.sass'\nimport {CloseOutlined, SearchOutlined} from \"@ant-design/icons\";\n\nimport TreeCategories, {items} from \"../ui/TreeCategories\";\n\n\ninterface PartnerDrawerProps {\n    isOpenFilter: boolean;\n    onCloseFilter: () => void;\n    onViewOnlyRequestedChange: (checked: boolean) => void;\n    onApply: (searchValue: string, viewOnlyRequested: boolean, selectedCategories: string[]) => void;\n}\nconst PartnerDrawer: FC<PartnerDrawerProps> = ({ isOpenFilter, onCloseFilter, onViewOnlyRequestedChange, onApply }) => {\n    const [inputPrefix, setInputPrefix] = useState<string>('');\n    const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\n    const [checkboxStates, setCheckboxStates] = useState<Record<string, boolean>>({});\n    const [viewOnlyRequested, setViewOnlyRequested] = useState(true);\n    const [resetCheckboxes, setResetCheckboxes] = useState(false);\n    const [inputValue, setInputValue] = useState('');\n\n    const handleClearAll = () => {\n        setSelectedCategories([]);\n        setResetCheckboxes(true);\n    };\n\n    const handleSelectText = (text: string, checked: boolean) => {\n        setCheckboxStates(prevState => ({\n            ...prevState,\n            [text]: checked\n        }));\n\n        if (text === 'Select All') {\n            if (checked) {\n                setSelectedCategories(\n                    items\n                        .flatMap(item => (item.children || []).map(child => child.text))\n                        .filter(category => category !== 'Select All')\n                );\n            } else {\n                setSelectedCategories([]);\n            }\n        } else {\n            setSelectedCategories(prevSelected =>\n                checked\n                    ? [...prevSelected, text]\n                    : prevSelected.filter(category => category !== text)\n            );\n        }\n    };\n    const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setInputPrefix(e.target.value);\n    };\n\n\n    return (\n        <Drawer\n            footerStyle={{ border: 'none' }}\n            closeIcon={false}\n            width={'100%'}\n            placement=\"right\"\n            onClose={onCloseFilter}\n            open={isOpenFilter}\n        >\n            <section className={styles.modalContainer}>\n                <div className={styles.modalTitleContainer}>\n                    <h3>Browse All Partner</h3>\n                </div>\n                <div className={styles.inputContainer}>\n                <Input onChange={e => setInputValue(e.target.value)} prefix={inputValue === '' ? <SearchOutlined style={{ opacity: '40%', fontSize: '16px' }} /> : <span />} bordered={false} placeholder={\"search by name, keywords, categories, ets\"} value={inputValue}  />\n                </div>\n                <div className={styles.filterContainer}>\n                    <div className={styles.dropdownContainer}>\n                        <TreeCategories onSelectText={handleSelectText} resetCheckboxes={resetCheckboxes} setResetCheckboxes={setResetCheckboxes} />\n                        <Checkbox onChange={(e) => {\n                            setViewOnlyRequested(e.target.checked);\n                            onViewOnlyRequestedChange(e.target.checked);\n                        }} defaultChecked={true} className={styles.reqCheck}>View only partners who have requested to meet</Checkbox>\n                    </div>\n                    <div className={styles.filterListContainer}>\n                        {selectedCategories.length > 0 ? (\n                            <>\n                                <div className={styles.controlFilterList}>\n                                    <p>Added filters:</p>\n                                    <button onClick={handleClearAll}>Clear all</button>\n                                </div>\n                                <ul className={styles.filterList}>\n                                    {selectedCategories.map((category) => (\n                                        <li key={category}>{category} <CloseOutlined\n                                            className={styles.listCloseIcon}/></li>\n                                    ))}\n                                </ul>\n                            </>\n                        ) : (\n                            <Empty className={styles.empty} description={'no filter added'} image={false} />\n                        )}\n                    </div>\n                    <div className={styles.btnContainer}>\n                        <button onClick={onCloseFilter} className={styles.cancelBtn}>Cancel</button>\n                        <button onClick={() => {\n                            onApply(inputValue, viewOnlyRequested, selectedCategories);\n                            onCloseFilter();\n                        }} className={styles.applyBtn}>Apply</button>\n                    </div>\n                </div>\n            </section>\n        </Drawer>\n    );\n};\n\nexport default PartnerDrawer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}